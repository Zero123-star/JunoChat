import{u as C,r as i,t as m,j as e,B as b}from"./index-C6xq9Q1d.js";import{m as f,S as F,c as I}from"./api-iqijItGs.js";import{I as j}from"./input-B0BXk12S.js";import{L as o}from"./label-Bc_BKVne.js";import{I as S}from"./image-vyDWG_4G.js";const R=()=>{const c=C(),[s,n]=i.useState({name:"",description:"",avatar:"",tags:"",color:"#000000"}),[p,h]=i.useState(null),[u,x]=i.useState(!1),[g,v]=i.useState(null);i.useEffect(()=>{localStorage.getItem("token")||(m.error("Please log in to create a character"),c("/login"))},[c]);const N=async a=>{a.preventDefault(),x(!0),h(null);try{await I(s),m.success("Character created successfully!"),c("/characters")}catch{h("Failed to create character. Please try again."),m.error("Failed to create character")}finally{x(!1)}},d=a=>{const{name:t,value:r}=a.target;n(l=>({...l,[t]:r}))},y=a=>{const t=a.target.value.split(",").map(r=>r.trim());n(r=>({...r,tags:t.join(",")}))},w=a=>{var r;const t=(r=a.target.files)==null?void 0:r[0];if(t){const l=new FileReader;l.onloadend=()=>{v(l.result),n(k=>({...k,avatar:l.result}))},l.readAsDataURL(t)}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-white via-purple-50 to-pink-50 dark:from-black dark:via-zinc-900 dark:to-gray-900 px-4 py-6 flex items-center justify-center",children:e.jsx(f.div,{className:"w-full max-w-md",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:e.jsxs("div",{className:"bg-white/70 backdrop-blur-md p-8 rounded-2xl shadow-xl border border-pink-100",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx(f.div,{className:"inline-block",initial:{scale:.8},animate:{scale:1},transition:{type:"spring",stiffness:260,damping:20},children:e.jsx(F,{className:"text-pink-500 h-8 w-8 mx-auto mb-2"})}),e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-purple-500 via-pink-500 to-red-500 text-transparent bg-clip-text",children:"Create New Character"}),e.jsx("p",{className:"text-purple-700 mt-2",children:"Bring your character to life"})]}),p&&e.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:p}),e.jsxs("form",{onSubmit:N,className:"space-y-5",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"name",className:"text-purple-800 font-medium",children:"Name"}),e.jsx(j,{id:"name",type:"text",name:"name",value:s.name,onChange:d,placeholder:"Enter character name",required:!0,className:"bg-white/50 border-pink-200 focus:border-purple-400"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"description",className:"text-purple-800 font-medium",children:"Description"}),e.jsx("textarea",{id:"description",name:"description",value:s.description,onChange:d,placeholder:"Describe your character",required:!0,rows:4,className:"w-full px-3 py-2 bg-white/50 border border-pink-200 rounded-lg focus:border-purple-400 focus:outline-none"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"image",className:"text-purple-800 font-medium",children:"Character Image"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("label",{className:"flex-1",children:e.jsxs("div",{className:"flex items-center justify-center w-full h-32 border-2 border-dashed border-pink-200 rounded-lg cursor-pointer hover:border-purple-400 transition-colors",children:[e.jsxs("div",{className:"text-center",children:[e.jsx(S,{className:"h-8 w-8 mx-auto text-pink-500"}),e.jsx("p",{className:"mt-2 text-sm text-purple-700",children:"Click to upload image"})]}),e.jsx("input",{type:"file",id:"image",accept:"image/*",onChange:w,className:"hidden"})]})}),g&&e.jsx("img",{src:g,alt:"Preview",className:"h-32 w-32 object-cover rounded-lg"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"tags",className:"text-purple-800 font-medium",children:"Tags"}),e.jsx(j,{id:"tags",type:"text",value:s.tags,onChange:y,placeholder:"Enter tags (comma-separated)",className:"bg-white/50 border-pink-200 focus:border-purple-400"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"color",className:"text-purple-800 font-medium",children:"Color"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("input",{type:"color",id:"color",name:"color",value:s.color,onChange:d,className:"h-10 w-20 rounded-lg cursor-pointer"}),e.jsx("span",{className:"text-purple-700",children:s.color})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4 pt-4",children:[e.jsx(b,{type:"button",onClick:()=>c("/characters"),className:"bg-white/10 backdrop-blur-md text-white border border-white/20 hover:bg-white/20 hover:border-white/40 transition-all duration-300",children:"Cancel"}),e.jsx(b,{type:"submit",disabled:u,className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white hover:from-purple-600 hover:to-pink-600 border-0 shadow-lg hover:shadow-xl transition-all duration-200",children:u?"Creating...":"Create Character"})]})]})]})})})};export{R as default};
