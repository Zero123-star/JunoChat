import{b as g,r as a,j as e}from"./index-C6xq9Q1d.js";const y=()=>{const{characterId:n}=g(),[t,h]=a.useState(null),[x,l]=a.useState([]),[c,o]=a.useState(""),[p,i]=a.useState(!0),[d,u]=a.useState(null);console.log("Character ID:",n),a.useEffect(()=>{(async()=>{try{i(!0),u(null);const s=await fetch(`http://localhost:8000/api/characters/${n}/`);if(!s.ok)throw new Error("Failed to fetch character data");const f=await s.json();h(f)}catch(s){console.error("Eroare la obÈ›inerea datelor personajului:",s),u("Failed to load character data. Please try again later.")}finally{i(!1)}})()},[n]);const m=()=>{c.trim()!==""&&(l(r=>[...r,{sender:"user",text:c}]),setTimeout(()=>{l(r=>[...r,{sender:"character",text:`Hello! I'm ${t==null?void 0:t.name}. How can I help you?`}])},1e3),o(""))};return p?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("p",{children:"Loading character..."})}):d?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("p",{className:"text-red-500",children:d})}):t?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-white via-purple-50 to-pink-50 dark:from-black dark:via-zinc-900 dark:to-gray-900 px-4 py-6 flex items-center justify-center",children:[e.jsxs("header",{className:"bg-purple-500 text-white p-4 flex items-center space-x-4",children:[e.jsx("img",{alt:t.name,className:"w-12 h-12 rounded-full object-cover"}),e.jsx("h1",{className:"text-xl font-bold",children:t.name})]}),e.jsx("main",{className:"flex-grow p-4 overflow-y-auto",children:e.jsx("div",{className:"bg-white rounded-lg shadow-lg p-4 space-y-4",children:x.map((r,s)=>e.jsx("div",{className:`flex ${r.sender==="user"?"justify-end":"justify-start"}`,children:e.jsx("div",{className:`${r.sender==="user"?"bg-purple-500 text-white":"bg-gray-200 text-gray-800"} px-4 py-2 rounded-lg max-w-xs`,children:r.text})},s))})}),e.jsx("footer",{className:"bg-gray-100 p-4",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("input",{type:"text",value:c,onChange:r=>o(r.target.value),placeholder:"Type your message...",className:"flex-grow px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"}),e.jsx("button",{onClick:m,className:"bg-purple-500 text-white px-4 py-2 rounded-lg hover:bg-purple-600",children:"Send"})]})})]}):e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("p",{className:"text-red-500",children:"Character not found."})})};export{y as default};
